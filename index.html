<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
  <title>Landing Page</title>
</head>
<body>
<main style="text-align: justify; padding: 60px 20px; max-width: 860px; margin: auto; line-height: 1.6;">
  <h1 style="margin-bottom: 16px;">Dear Participant,</h1>

  <p>
    In this experiment, you will explore different hotel options and make choices based on your 
    <strong>own personal preferences</strong>.  
    There are no right or wrong answers. We are interested in your individual decision-making process.
  </p>

  <p>
    During the experiment, your interactions with the website will be recorded.  
    All data will be <strong>fully anonymized</strong> and <strong>analyzed for research purposes only</strong>.  
    The entire study takes approximately <strong>5 to 10 minutes</strong>.
  </p>

  <hr style="margin: 32px 0;">

  <h2 style="font-size: 1.2rem; margin-bottom: 8px;">Your Task</h2>

  <p>
    Your task is to select the perfect hotel for a <strong>city trip to Vancouver</strong>.  
    Please imagine that you are traveling together with your partner and are therefore looking for a 
    <strong>double room</strong>. The trip lasts <strong>four nights</strong>, from <strong>March&nbsp;31 to April&nbsp;4</strong>.
  </p>

  <p>
    Note: All of these details have already been pre-filled on the following website.
  </p>

  <p style="margin-top: 24px; color: #555;">
    Please take your time and choose the hotel that best matches your personal preferences.
  </p>

  <div style="margin-top: 24px;">
    <button id="start-btn"
      style="font-size: 18px; padding: 12px 28px; cursor: pointer;">
      Start
    </button>
  </div>
</main>

<script>
function generateId(prefix) {
  return prefix + "_" + Math.random().toString(36).slice(2, 10) + Date.now().toString(36);
}

document.getElementById("start-btn").addEventListener("click", () => {
  // User
  let user_id = localStorage.getItem("user_id");
  if (!user_id) {
    user_id = generateId("u");
    localStorage.setItem("user_id", user_id);
  }

  // Session
  const session_id = generateId("s");
  const session_start = new Date().toISOString();

  // Condition
  const condition = Math.random() < 0.5 ? 1 : 0;

  // Persist session context
  sessionStorage.setItem("STUDY_SESSION", JSON.stringify({
    user_id,
    session_id,
    session_start,
    condition
  }));

  // Redirect
  if (condition === 1) {
    window.location.href = "results-llm.html";
  } else {
    window.location.href = "results-filter.html";
  }
});
</script>

</body>
</html>
